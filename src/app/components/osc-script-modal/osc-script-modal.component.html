<div class="pane modal modal-lg" [@fadeUp]>
  <div class="pane-title" translate *ngIf="scriptName">OSC Script: {{ scriptName }}</div>
  <div class="pane-title" translate *ngIf="!scriptName">OSC Script</div>
  <div class="tab-bar">
    <div class="tab" [class.active]="activeTab === 'SIMPLE'" (click)="activeTab = 'SIMPLE'">
      <div class="tab-label" translate>
        <i class="material-icons">auto_awesome</i>
        <span translate>Simple</span>
      </div>
    </div>
    <div class="tab" [class.active]="activeTab === 'SCRIPT'" (click)="activeTab = 'SCRIPT'">
      <div class="tab-label">
        <i class="material-icons">code</i>
        <span translate>Script</span>
      </div>
    </div>
  </div>
  <div class="pane-content simple-tab" *ngIf="activeTab === 'SIMPLE' && script">
    <app-osc-script-simple-editor
      [(script)]="script"
      (errorCount)="errorCount = $event"
      (validatedChange)="validated = $event"
    ></app-osc-script-simple-editor>
  </div>
  <div class="pane-content script-tab" *ngIf="activeTab === 'SCRIPT' && script">
    <app-osc-script-code-editor
      [minHeight]="21"
      [(script)]="script"
      (errorCount)="errorCount = $event"
      (validatedChange)="validated = $event"
    ></app-osc-script-code-editor>
  </div>
  <div class="pane-actions">
    <button class="btn btn-secondary" (click)="close()" translate>shared.modals.cancel</button>
    <button
      class="btn btn-primary"
      (click)="save()"
      [disabled]="!validated || errorCount > 0"
      translate
    >
      shared.modals.save
    </button>
  </div>
</div>
