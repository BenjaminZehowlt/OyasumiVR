<div class="pane-content" @noop>
  <div class="setting-category">
    <p translate>brightness-automations.imageBrightness.description</p>

    <div class="settings">
      <div class="setting-row">
        <div class="setting-row-label" translate>
          <span translate>brightness-automations.imageBrightness.onSleepEnable.title</span>
          <span translate>brightness-automations.imageBrightness.onSleepEnable.description</span>
        </div>
        <div class="setting-row-action">
          <div
            class="small-spinner"
            @fade
            *ngIf="brightnessAutomation.isSleepEnableTransitionActive"
          ></div>
          <label class="switch-toggle">
            <input
              type="checkbox"
              [checked]="onSleepModeEnableConfig.enabled"
              (change)="
                setAutomationEnabled(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_ENABLE',
                  !onSleepModeEnableConfig.enabled
                )
              "
            />
            <span class="switch-toggle-slider"></span>
          </label>
        </div>
        <div
          class="active-effect"
          @fade
          *ngIf="brightnessAutomation.isSleepEnableTransitionActive"
        ></div>
      </div>

      <div class="setting-row-group">
        <div class="setting-row" [class.disabled]="!onSleepModeEnableConfig.enabled">
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.brightness.title</span>
            <span translate>brightness-automations.brightness.description</span>
          </div>
          <div class="setting-row-action">
            <app-slider-setting
              unit="%"
              [min]="brightnessBounds.min"
              [max]="brightnessBounds.max"
              [value]="onSleepModeEnableConfig.brightness"
              (valueChange)="updateBrightness('IMAGE_BRIGHTNESS_ON_SLEEP_MODE_ENABLE', $event)"
              [step]="1"
              [snapValues]="brightnessSnapValues"
              [snapDistance]="brightnessSnapDistance"
            ></app-slider-setting>
          </div>
        </div>

        <div class="setting-row" [class.disabled]="!onSleepModeEnableConfig.enabled">
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.transition.title</span>
            <span translate>brightness-automations.transition.description</span>
          </div>
          <div class="setting-row-action">
            <label class="switch-toggle">
              <input
                type="checkbox"
                [checked]="onSleepModeEnableConfig.transition"
                (change)="
                  toggleTransitioning(
                    'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_ENABLE',
                    !onSleepModeEnableConfig.transition
                  )
                "
              />
              <span class="switch-toggle-slider"></span>
            </label>
          </div>
        </div>
        <div
          class="setting-row"
          [class.disabled]="!onSleepModeEnableConfig.enabled || !onSleepModeEnableConfig.transition"
        >
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.transitionTime.title</span>
            <span translate>brightness-automations.transitionTime.description</span>
          </div>
          <div class="setting-row-action">
            <app-slider-setting
              [min]="1"
              [value]="transitionValueOnEnable"
              (valueChange)="
                onChangeTransition(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_ENABLE',
                  $event,
                  transitionUnitOptionOnEnable
                )
              "
              [snapValues]="[15, 30, 45]"
              [snapDistance]="5"
              [max]="59"
              [step]="1"
            ></app-slider-setting>
            <app-select-box
              class="status-dropdown"
              [type]="'SMALL'"
              [items]="transitionUnitOptions"
              [selected]="transitionUnitOptionOnEnable"
              (selectedChange)="
                onChangeTransition(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_ENABLE',
                  transitionValueOnEnable,
                  $event
                )
              "
              #transitionUnitOnEnable
            ></app-select-box>
          </div>
        </div>
      </div>
      <div class="setting-row">
        <div class="setting-row-label" translate>
          <span translate>brightness-automations.imageBrightness.onSleepDisable.title</span>
          <span translate>brightness-automations.imageBrightness.onSleepDisable.description</span>
        </div>
        <div class="setting-row-action">
          <div
            class="small-spinner"
            @fade
            *ngIf="brightnessAutomation.isSleepDisableTransitionActive"
          ></div>
          <label class="switch-toggle">
            <input
              type="checkbox"
              [checked]="onSleepModeDisableConfig.enabled"
              (change)="
                setAutomationEnabled(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_DISABLE',
                  !onSleepModeDisableConfig.enabled
                )
              "
            />
            <span class="switch-toggle-slider"></span>
          </label>
        </div>
        <div
          class="active-effect"
          @fade
          *ngIf="brightnessAutomation.isSleepDisableTransitionActive"
        ></div>
      </div>

      <div class="setting-row-group">
        <div class="setting-row" [class.disabled]="!onSleepModeDisableConfig.enabled">
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.brightness.title</span>
            <span translate>brightness-automations.brightness.description</span>
          </div>
          <div class="setting-row-action">
            <app-slider-setting
              unit="%"
              [min]="brightnessBounds.min"
              [max]="brightnessBounds.max"
              [value]="onSleepModeDisableConfig.brightness"
              (valueChange)="updateBrightness('IMAGE_BRIGHTNESS_ON_SLEEP_MODE_DISABLE', $event)"
              [step]="1"
              [snapValues]="brightnessSnapValues"
              [snapDistance]="brightnessSnapDistance"
            ></app-slider-setting>
          </div>
        </div>

        <div class="setting-row" [class.disabled]="!onSleepModeDisableConfig.enabled">
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.transition.title</span>
            <span translate>brightness-automations.transition.description</span>
          </div>
          <div class="setting-row-action">
            <label class="switch-toggle">
              <input
                type="checkbox"
                [checked]="onSleepModeDisableConfig.transition"
                (change)="
                  toggleTransitioning(
                    'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_DISABLE',
                    !onSleepModeDisableConfig.transition
                  )
                "
              />
              <span class="switch-toggle-slider"></span>
            </label>
          </div>
        </div>
        <div
          class="setting-row"
          [class.disabled]="
            !onSleepModeDisableConfig.enabled || !onSleepModeDisableConfig.transition
          "
        >
          <div class="setting-row-label" translate>
            <span translate>brightness-automations.transitionTime.title</span>
            <span translate>brightness-automations.transitionTime.description</span>
          </div>
          <div class="setting-row-action">
            <app-slider-setting
              [min]="1"
              [snapValues]="[15, 30, 45]"
              [value]="transitionValueOnDisable"
              (valueChange)="
                onChangeTransition(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_DISABLE',
                  $event,
                  transitionUnitOptionOnDisable
                )
              "
              [snapDistance]="5"
              [max]="59"
              [step]="1"
            ></app-slider-setting>
            <app-select-box
              class="status-dropdown"
              [type]="'SMALL'"
              [items]="transitionUnitOptions"
              [selected]="transitionUnitOptionOnDisable"
              (selectedChange)="
                onChangeTransition(
                  'IMAGE_BRIGHTNESS_ON_SLEEP_MODE_DISABLE',
                  transitionValueOnDisable,
                  $event
                )
              "
            ></app-select-box>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
