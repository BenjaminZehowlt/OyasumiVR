{
  "$schema": "../node_modules/@tauri-apps/cli/schema.json",
  "build": {
    "beforeBuildCommand": "npm run build:pre",
    "beforeDevCommand": "npm run start",
    "devPath": "http://localhost:4200",
    "distDir": "../dist/oyasumivr",
    "withGlobalTauri": true
  },
  "package": {
    "productName": "OyasumiVR",
    "version": "0.0.0"
  },
  "tauri": {
    "allowlist": {
      "fs": {
        "readFile": true,
        "readDir": true,
        "writeFile": true,
        "exists": true,
        "scope": [
          "$HOME/AppData/LocalLow/VRChat/**/*",
          "$RESOURCE/*"
        ]
      },
      "path": {
        "all": true
      },
      "shell": {
        "execute": true,
        "open": true
      },
      "dialog": {
        "open": true,
        "message": true,
        "save": true
      },
      "process": {
        "exit": true,
        "relaunch": true
      },
      "http": {
        "request": true,
        "scope": [
          "https://api.vrchat.cloud/api/1/*",
          "https://assets.vrchat.com/*",
          "https://files.vrchat.cloud/*"
        ]
      },
      "notification": {
        "all": true
      }
    },
    "bundle": {
      "active": true,
      "category": "Utility",
      "copyright": "Copyright (c) 2022 Raphiiko",
      "deb": {
        "depends": []
      },
      "resources": [
        "./openvr_api.dll",
        "./resources/**/*"
      ],
      "icon": [
        "icons/32x32.png",
        "icons/128x128.png",
        "icons/128x128@2x.png",
        "icons/icon.icns",
        "icons/icon.ico"
      ],
      "publisher": "Raphiiko",
      "identifier": "co.raphii.oyasumi",
      "longDescription": "",
      "macOS": {
        "entitlements": null,
        "exceptionDomain": "",
        "frameworks": [],
        "providerShortName": null,
        "signingIdentity": null
      },
      "shortDescription": "OyasumiVR",
      "targets": [
        "nsis",
        "updater"
      ],
      "windows": {
        "certificateThumbprint": null,
        "digestAlgorithm": "sha256",
        "timestampUrl": "",
        "nsis": {
          "template": "installer/installer.nsi",
          "license": "../LICENSE.md",
          "installerIcon": "icons/icon.ico",
          "headerImage": "images/installer_header.bmp",
          "sidebarImage": "images/installer_sidebar.bmp",
          "displayLanguageSelector": true,
          "installMode": "both",
          "languages": [
            "English",
            "French",
            "Japanese",
            "Dutch",
            "Korean",
            "SimpChinese",
            "TradChinese"
          ]
        }
      }
    },
    "cli": {
      "description": "OyasumiVR - VR Sleep Utilities",
      "longDescription": "",
      "beforeHelp": "",
      "afterHelp": "",
      "args": [
        {
          "name": "overlay-sidecar-mode",
          "short": "o",
          "description": "Mode for handling the overlay sidecar",
          "longDescription": "'release' mode\n - OyasumiVR will start the bundled overlay sidecar by itself.\n\n'dev' mode:\n - OyasumiVR will not start a sidecar overlay, and assumes that you are running the sidecar yourself on the default development port.",
          "maxValues": 1,
          "takesValue": true,
          "possibleValues": [
            "release",
            "dev"
          ]
        },
        {
          "name": "grpc-port-core",
          "short": "c",
          "description": "Port to host the core module's gRPC server on (default: 0 (randomly picked))",
          "longDescription": "By default, the port for the core module's gRPC server is randomly selected. This is to avoid conflicts with other applications that may be using the same port. If you want to specify a port, say for development purposes, you can do so with this argument.",
          "maxValues": 1,
          "takesValue": true
        }
      ]
    },
    "security": {
      "csp": null
    },
    "systemTray": {
      "iconPath": "icons/icon.png",
      "iconAsTemplate": true
    },
    "updater": {
      "active": true,
      "endpoints": [
        "https://gist.githubusercontent.com/Raphiiko/16ed38d8ccd9282675d04478f887f76f/raw"
      ],
      "dialog": false,
      "pubkey": "dW50cnVzdGVkIGNvbW1lbnQ6IG1pbmlzaWduIHB1YmxpYyBrZXk6IEVGOEI4QTQ2Rjk1NEMwNTUKUldSVndGVDVSb3FMN3hIanNsbVVDdVk1MkE2MVpVWERJeTdUVVRzZ1JpanVQTmNXYWJGVHhUSVIK"
    },
    "windows": [
      {
        "fullscreen": false,
        "height": 600,
        "resizable": true,
        "title": "OyasumiVR",
        "width": 960,
        "minWidth": 960,
        "minHeight": 600,
        "visible": false,
        "center": true,
        "theme": "Dark",
        "transparent": true,
        "userAgent": "OyasumiVR/DEV (https://github.com/Raphiiko/OyasumiVR)"
      },
      {
        "width": 700,
        "height": 475,
        "decorations": false,
        "url": "assets/splashscreen/splashscreen.html",
        "label": "splashscreen",
        "resizable": false,
        "center": true,
        "theme": "Dark",
        "transparent": true,
        "userAgent": "OyasumiVR/DEV (https://github.com/Raphiiko/OyasumiVR)"
      }
    ]
  }
}